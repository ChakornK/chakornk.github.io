---
import "@/styles/global.css";
import Layout from "@/layouts/Layout.astro";

import type { GetStaticPaths } from "astro";

const project = import.meta.glob("/projects/*.md", { eager: true })[`/projects/${Astro.params.id}.md`];
const { Content, frontmatter } = project as Record<string, any>;

export const getStaticPaths = (() => {
  const matches = import.meta.glob("/projects/*.md", { eager: true });
  const projects = Object.keys(matches).map((p) => p.split("/").slice(-1)[0].split(".")[0]);
  return projects.map((p) => ({ params: { id: p } }));
}) satisfies GetStaticPaths;
---

<Layout title={`ChakornK - ${frontmatter.name}`}>
  <main class="flex h-full flex-col items-center p-16 pt-24">
    <div class="prose prose-gray **:font-medium w-full max-w-2xl">
      <h1>{frontmatter.name}</h1>
      <Content />
    </div>
  </main>
</Layout>
